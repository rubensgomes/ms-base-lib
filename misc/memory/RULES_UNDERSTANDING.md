# Rules Understanding

## Files Loaded
1. `~/.claude/CLAUDE.md` - Global workflow and coding rules
2. `~/.claude/CLAUDE_JAVA.md` - Java-specific guidelines
3. `/home/rubens/dev/personal/java/ms-base-lib/README.md` - Project overview

## Global Workflow Rules (CLAUDE.md)

### Workflow Process
- **MUST plan first** before any implementation
- Get user approval on plan
- Store all plans in `misc/tasks` folder
- Use checkbox format (- [ ] syntax) in task files
- Work incrementally, checking off tasks as completed
- Communicate with high-level summaries only
- Add Review section when wrapping up work
- **MUST check off checkboxes** as tasks complete

### Coding Principles
- Clarity over cleverness
- SOLID & Clean Code principles
- Functions <20 lines ideal, max 60 lines
- Descriptive names, no abbreviations
- Document all public code
- Avoid globals and static state
- Never swallow exceptions
- Avoid deep nesting, use early returns
- No magic numbers, use named constants
- Prefer immutability and pure functions
- Follow DRY principle
- Meaningful logging with context

### Critical Constraints
- **NEVER create files** unless absolutely necessary
- **ALWAYS prefer editing existing files**
- **NEVER proactively create documentation files**
- Do only what's asked, nothing more

## Java-Specific Guidelines (CLAUDE_JAVA.md)

1. Constructor injection for dependencies
2. Records for DTOs
3. **Always add Javadoc** for packages, classes, interfaces, methods, variables
4. Use Lombok annotations
5. Use Lombok @Slf4j for logging
6. Java 11+ features (var, records, streams)
7. Optional for nullable returns instead of null
8. Streams and Lambdas for collections
9. Enums for fixed constants
10. Try-with-resources for resource management
11. Avoid wildcard imports
12. Use `Objects.requireNonNull()` for null checks
13. **MUST add `// Generated by Claude` comment** for new files
14. **MUST add `// Modified by Claude` comment** before modifications

## Project Context (README.md)

- **Project**: ms-base-lib
- **Type**: Single library module Gradle project
- **Purpose**: Java library containing base types to be shared among microservices
- **Key Commands**:
  - Build: `./gradlew --info clean build`
  - Test: `./gradlew --info clean test`
  - Format: `./gradlew :lib:spotlessApply`
  - Release: `./gradlew --info release` (only Rubens)
  - Publish: `./gradlew --info publish` (on release branch)

## Application Strategy

For all future changes, I will:
1. Plan first and get approval before implementation
2. Store plans in `misc/tasks` with checkbox format
3. Apply Java-specific guidelines (Javadoc, Lombok, constructor injection, etc.)
4. Add required Claude comments for modifications
5. Keep functions small and focused (<20 lines ideal)
6. Use high-level summaries when communicating
7. Check off tasks incrementally as work progresses
8. Prefer editing existing files over creating new ones
9. Add Review section when completing work
